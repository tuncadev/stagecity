(function(t){"use strict";var d=t(".company-related-details");var a=d.find(".civi-pagination li .page-numbers");var o=civi_company_related_vars.ajax_url;t(document).ready(function(){t("body").on("click",".civi-pagination a.page-numbers",function(a){a.preventDefault();d.find(".civi-pagination li .page-numbers").removeClass("current");t(this).addClass("current");var i=t(this).text();var n=1;if(d.find(".civi-pagination").find('input[name="paged"]').val()){n=t(".civi-pagination").find('input[name="paged"]').val()}if(t(this).hasClass("next")){i=parseInt(n)+1}if(t(this).hasClass("prev")){i=parseInt(n)-1}d.find(".civi-pagination").find('input[name="paged"]').val(i);e()});function e(){var a=1;var i=d.find('input[name="item_amount"]').val();var n=d.find('input[name="company_id"]').val();a=d.find(".civi-pagination").find('input[name="paged"]').val();t.ajax({dataType:"json",url:o,data:{action:"civi_company_related",item_amount:i,company_id:n,paged:a},beforeSend:function(){d.find(".civi-loading-effect").addClass("loading").fadeIn()},success:function(a){d.find(".pagination").html(a.pagination);d.find(".civi-loading-effect").removeClass("loading").fadeOut();d.find(".related-inner .related-company").html(a.company_html)}})}})})(jQuery);