(function(T){"use strict";var C=T("#submit_company_form"),n=C.data("titleerror"),i=C.data("deserror"),e=C.data("caterror"),t=C.data("sizeerror"),o=C.data("emailerror");var D=civi_submit_vars.ajax_url,I=civi_submit_vars.company_dashboard;T(document).ready(function(){T.validator.setDefaults({ignore:":hidden:not(select)"});C.validate({ignore:[],rules:{company_title:{required:true},company_categories:{required:true},company_size:{required:true},company_email:{required:true},company_des:{required:true}},messages:{company_title:n,company_des:i,company_categories:e,company_size:t,company_email:o},submitHandler:function(n){a()},errorPlacement:function(n,a){if(a.is("select.nice-select:hidden")){n.insertAfter(a.next(".nice-select"))}else{n.insertAfter(a)}},invalidHandler:function(){if(T(".error:visible").length>0){T("html, body").animate({scrollTop:T(".error:visible").offset().top-100},500)}}});function a(){var n=C.find('input[name="company_form"]').val(),a=C.find('input[name="company_action"]').val(),i=C.find('input[name="company_id"]').val(),e=C.find('input[name="company_title"]').val(),t=C.find('select[name="company_categories"]').val(),o=C.find('input[name="company_url"]').val(),m=tinymce.get("company_des").getContent(),c=C.find('input[name="company_website"]').val(),p=C.find('input[name="company_phone"]').val(),l=C.find('input[name="company_email"]').val(),r=C.find('select[name="company_founded"]').val(),_=C.find('select[name="company_size"]').val(),d=C.find('input[name="company_twitter"]').val(),u=C.find('input[name="company_linkedin"]').val(),y=C.find('input[name="company_facebook"]').val(),s=C.find('input[name="company_instagram"]').val(),f=C.find('select[name="company_social_name[]"]').map(function(){return T(this).val()}).get(),v=C.find('input[name="company_social_url[]"]').map(function(){return T(this).val()}).get(),b=C.find('select[name="company_location"]').val(),g=C.find('input[name="civi_map_address"]').val(),h=C.find('input[name="civi_map_location"]').val(),w=C.find('input[name="civi_latitude"]').val(),j=C.find('input[name="civi_longtitude"]').val(),q=C.find('input[name="company_avatar_url"]').val(),z=C.find('input[name="company_avatar_id"]').val(),k=C.find('input[name="company_thumbnail_url"]').val(),x=C.find('input[name="company_thumbnail_id"]').val(),A=C.find('input[name="civi_gallery_ids[]"]').map(function(){return T(this).val()}).get(),H=C.find('input[name="company_video_url"]').val();T.ajax({dataType:"json",url:D,data:{action:"company_submit_ajax",company_form:n,company_action:a,company_id:i,company_title:e,company_categories:t,company_url:o,company_des:m,company_website:c,company_founded:r,company_phone:p,company_email:l,company_size:_,company_twitter:d,company_linkedin:u,company_facebook:y,company_instagram:s,company_social_name:f,company_social_url:v,company_location:b,company_map_address:g,company_map_location:h,company_latitude:w,company_longtitude:j,company_avatar_url:q,company_avatar_id:z,company_thumbnail_url:k,company_thumbnail_id:x,civi_gallery_ids:A,company_video_url:H},beforeSend:function(){T(".btn-submit-company .btn-loading").fadeIn()},success:function(n){T(".btn-submit-company .btn-loading").fadeOut();if(n.success===true){window.location.href=I}}})}})})(jQuery);