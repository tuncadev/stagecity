(function(z){"use strict";var E=z("#submit_jobs_form"),e=E.data("titleerror"),i=E.data("deserror"),n=E.data("caterror"),s=E.data("typeerror"),t=E.data("skillserror");var F=civi_submit_vars.ajax_url,G=civi_submit_vars.jobs_dashboard,J=civi_submit_vars.custom_field_jobs;z(document).ready(function(){z.validator.setDefaults({ignore:":hidden:not(select)"});E.validate({ignore:[],rules:{jobs_title:{required:true},jobs_categories:{required:true},jobs_type:{required:true},jobs_skills:{required:true},jobs_des:{required:true}},messages:{jobs_title:e,jobs_des:i,jobs_categories:n,jobs_type:s,jobs_skills:t},submitHandler:function(e){var i=z(this.submitButton).attr("name");a(i)},errorPlacement:function(e,i){if(i.is("select.nice-select:hidden")){e.insertAfter(i.next(".nice-select"))}else{e.insertAfter(i)}},invalidHandler:function(){if(z(".error:visible").length>0){z("html, body").animate({scrollTop:z(".error:visible").offset().top-100},500)}}});function a(i){var e=E.find('input[name="jobs_form"]').val(),a=E.find('input[name="jobs_action"]').val(),n=E.find('input[name="jobs_id"]').val(),s=E.find('input[name="jobs_title"]').val(),t=E.find('select[name="jobs_categories"]').val(),o=E.find('select[name="jobs_type"]').val(),l=E.find('select[name="jobs_skills"]').val(),_=tinymce.get("jobs_des").getContent(),r=E.find('select[name="jobs_career"]').val(),b=E.find('select[name="jobs_experience"]').val(),d=E.find('select[name="jobs_qualification"]').val(),u=E.find('select[name="jobs_quantity"]').val(),m=E.find('select[name="jobs_gender"]').val(),c=E.find('input[name="jobs_days_closing"]').val(),j=E.find('select[name="jobs_salary_show"]').val(),f=E.find('select[name="jobs_currency_type"]').val(),p=E.find('input[name="jobs_salary_minimum"]').val(),v=E.find('input[name="jobs_salary_maximum"]').val(),y=E.find('select[name="jobs_salary_rate"]').val(),g=E.find('input[name="jobs_minimum_price"]').val(),h=E.find('input[name="jobs_maximum_price"]').val(),x=E.find('select[name="jobs_select_apply"]').val(),q=E.find('input[name="jobs_apply_email"]').val(),k=E.find('input[name="jobs_apply_external"]').val(),w=E.find('input[name="jobs_apply_call_to"]').val(),A=E.find('select[name="jobs_select_company"]').val(),H=E.find('select[name="jobs_location"]').val(),I=E.find('input[name="jobs_thumbnail_url"]').val(),O=E.find('input[name="jobs_thumbnail_id"]').val(),T=E.find('input[name="civi_gallery_ids[]"]').map(function(){return z(this).val()}).get(),B=E.find('input[name="jobs_video_url"]').val(),C=E.find('input[name="civi_map_address"]').val(),D=E.find('input[name="civi_map_location"]').val(),P=E.find('input[name="civi_latitude"]').val(),S=E.find('input[name="civi_longtitude"]').val();var Q={};z("#jobs-submit-additional").each(function(){z.each(J,function(e,i){var a=z(".form-control[name="+i.id+"]").val();if(i.type=="radio"){a=z("input[name="+i.id+"]:checked").val()}if(i.type=="checkbox_list"){var n=[];z('input[name="'+i.id+'[]"]:checked').each(function(){n.push(z(this).val())});a=n}Q[i.id]=a})});z.ajax({dataType:"json",url:F,data:{action:"jobs_submit_ajax",jobs_form:e,jobs_action:a,jobs_id:n,jobs_title:s,jobs_categories:t,jobs_type:o,jobs_skills:l,jobs_des:_,jobs_career:r,jobs_experience:b,jobs_qualification:d,jobs_quantity:u,jobs_gender:m,jobs_days_closing:c,jobs_salary_show:j,jobs_currency_type:f,jobs_salary_minimum:p,jobs_salary_maximum:v,jobs_salary_rate:y,jobs_minimum_price:g,jobs_maximum_price:h,jobs_select_apply:x,jobs_apply_email:q,jobs_apply_external:k,jobs_apply_call_to:w,jobs_select_company:A,jobs_location:H,jobs_thumbnail_url:I,jobs_thumbnail_id:O,civi_gallery_ids:T,jobs_video_url:B,custom_field_jobs:Q,jobs_map_address:C,jobs_map_location:D,jobs_latitude:P,jobs_longtitude:S,submit_button:i},beforeSend:function(){if(i=="submit_jobs"){z(".btn-submit-jobs .btn-loading").fadeIn()}else{z(".btn-submit-draft .btn-loading").fadeIn()}},success:function(e){if(i=="submit_jobs"){z(".btn-submit-jobs .btn-loading").fadeOut();if(e.success===true){window.location.href=G}}else{z(".btn-submit-draft .btn-loading").fadeOut()}}})}})})(jQuery);