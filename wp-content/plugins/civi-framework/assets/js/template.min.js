var GLF = GLF || {};
(function (s) {
	"use strict";
	GLF.element = {
		init: function () {
			GLF.element.click_outside();
			GLF.element.payment_method();
			GLF.element.select2();
			GLF.element.sticky_element();
			GLF.element.light_gallery();
			GLF.element.click_to_demo();
			GLF.element.toggle_panel();
			GLF.element.toggle_social();
			GLF.element.toggle_content();
			GLF.element.nav_scroll();
			GLF.element.filter_toggle();
			GLF.element.slick_carousel();
			GLF.element.click_target_blank();
			GLF.element.click_outside(".input-field", ".focus-result");
			GLF.element.click_outside(".location-field", ".focus-result");
			GLF.element.click_outside(".type-field", ".focus-result");
			s(".toggle-select").on("click", ".toggle-show", function () {
				s(this).closest(".toggle-select").find(".toggle-list").slideToggle();
			});
			GLF.element.click_outside(".toggle-select", ".toggle-list", "slide");
		},
		light_gallery: function () {
			jQuery.event.special.touchstart = {
				setup: function (e, t, i) {
					this.addEventListener("touchstart", i, {
						passive: !t.includes("noPreventDefault"),
					});
				},
			};
		},
		scroll_to: function (e) {
			var t = s(e).offset().top;
			s("html, body").animate({ scrollTop: t - 100 }, 500);
		},
		click_to_demo: function () {
			s(".menu a").on("click", function (e) {
				var t = s(this).attr("href");
				if (t == "#demo") {
					e.preventDefault();
					scroll_to(t);
				}
			});
		},
		click_outside: function (i, n, l) {
			s(document).on("click", function (e) {
				var t = s(i);
				if (t !== e.target && !t.has(e.target).length) {
					if (l) {
						if (n) {
							t.find(n).slideUp();
						} else {
							t.slideUp();
						}
					} else {
						if (n) {
							t.find(n).hide();
						} else {
							t.hide();
						}
					}
				}
			});
		},
		payment_method: function () {
			s(".civi-payment-method-wrap .radio").on("click", function () {
				s(".civi-payment-method-wrap .radio").removeClass("active");
				s(this).addClass("active");
			});
		},
		select2: function () {
			s(".civi-select2").select2();
		},
		sticky_element: function () {
			var e = "";
			if (s(".uxper-sticky").length > 0) {
				e = s(".uxper-sticky").offset().top;
			}
			var t = s("#wpadminbar").length;
			var i = s(".uxper-sticky").height();
			var n = 0;
			var l = 0;
			if (t > 0) {
				n = s("#wpadminbar").height();
				s(".uxper-sticky").addClass("has-wpadminbar");
			}
			var a = 0;
			s(window).scroll(function (e) {
				var t = s(this).scrollTop();
				if (t < a) {
					s(".uxper-sticky").addClass("on");
				} else {
					s(".uxper-sticky").removeClass("on");
				}
				if (t < i + n) {
					s(".uxper-sticky").removeClass("on");
				}
				a = t;
			});
			s(".block-archive-sidebar").each(function () {
				var e = s(this);
				if (e.hasClass("has-sticky")) {
					e.removeClass("has-sticky");
					e.parents(".widget-area-init").addClass("has-sticky");
				}
			});
		},
		toggle_panel: function () {
			s(".block-panel").on("click", ".block-tab", function () {
				var e = s(this).closest(".block-panel");
				if (e.hasClass("active")) {
					e.removeClass("active");
					e.find(".block-content").slideUp(300);
				} else {
					s(".entry-property-element .block-panel").removeClass("active");
					s(".entry-property-element .block-panel .block-content").slideUp(300);
					e.addClass("active");
					e.find(".block-content").slideDown(300);
				}
			});
		},
		toggle_social: function () {
			s(".toggle-social").on("click", ".btn-share", function (e) {
				e.preventDefault();
				s(this).parent().toggleClass("active");
				s(this).parent().find(".social-share").slideToggle(300);
			});
		},
		toggle_content: function () {
			var e = s(
				".single-jobs .jobs-content .inner-content .entry-visibility"
			).height();
			if (e > 130) {
				s(".single-jobs .jobs-content").addClass("on");
			}
			s(".show-more").on("click", function (e) {
				e.preventDefault();
				s(this).parents(".jobs-area").addClass("active");
			});
			s(".hide-all").on("click", function (e) {
				e.preventDefault();
				s(this).parents(".jobs-area").removeClass("active");
			});
			s(".open-toggle").on("click", function (e) {
				e.preventDefault();
				s(this).parent().toggleClass("active");
			});
			s(document).on("click", function (e) {
				var t = s(".form-toggle");
				if (t !== e.target && !t.has(e.target).length) {
					t.removeClass("active");
				}
			});
			s("body").on("click", ".area-booking .minus", function (e) {
				var t = s(this).parents(".product-quantity").find(".input-text.qty");
				var i = s(this)
					.parents(".product-quantity")
					.find(".input-text.qty")
					.attr("name");
				var n = parseInt(t.val()) - 1;
				if (t.val() > 0) t.attr("value", n);
				s(this)
					.parents(".area-booking")
					.find(".open-toggle")
					.addClass("active");
				if (n > 0) {
					s(this)
						.parents(".area-booking")
						.find("." + i + " span")
						.text(parseInt(n));
				} else {
					s(this)
						.parents(".area-booking")
						.find("." + i + " span")
						.text(0);
				}
			});
		},
		nav_scroll: function () {
			s('.nav-scroll a[href^="#"]').on("click", function (e) {
				e.preventDefault();
				var t = s(this.getAttribute("href"));
				var i = 0;
				if (s("#wpadminbar").height()) {
					i = s("#wpadminbar").height();
				}
				if (t.length) {
					if (s(window).width() > 767) {
						var n = t.offset().top - 15 - i;
					} else {
						var n = t.offset().top - 15 - i;
					}
					s("html, body").stop().animate({ scrollTop: n }, 500);
				}
				s(".nav-scroll li").removeClass("active");
				s(this).parent().addClass("active");
			});
			s(window).scroll(function () {
				var n = s(window).scrollTop();
				s(".group-field").each(function (e) {
					if (s(this).offset().top <= n + 50) {
						var t = s(this).attr("id"),
							i = "#" + t;
						s(".nav-scroll a").parent().removeClass("active");
						s(".nav-scroll a").each(function () {
							var e = s(this).attr("href");
							if (e == i) {
								s(this).parent().addClass("active");
							}
						});
					}
				});
			});
		},
		filter_toggle: function () {
			s(".btn-canvas-filter").on("click", function (e) {
				e.preventDefault();
				s("body").css("overflow", "hidden");
				s("body").addClass("open-popup");
				s(this).toggleClass("active");
				s(".archive-filter").toggleClass("open-canvas");
			});
			s(".archive-filter").on(
				"click",
				".btn-close,.bg-overlay,.show-result .civi-button",
				function (e) {
					e.preventDefault();
					s("body").css("overflow", "inherit");
					s("body").removeClass("open-popup");
					s(this).parents(".archive-filter").removeClass("open-canvas");
					s(".btn-canvas-filter").removeClass("active");
				}
			);
		},
		slick_carousel: function () {
			var n = false;
			if (s("body").hasClass("rtl")) {
				n = true;
			}
			s(".civi-slick-carousel").each(function () {
				var e = s(this);
				var t = {
					slidesToShow: 1,
					slidesToScroll: 1,
					arrows: true,
					prevArrow:
						'<div class="gl-prev slick-arrow"><i class="far fa-angle-left large"></i></div>',
					nextArrow:
						'<div class="gl-next slick-arrow"><i class="far fa-angle-right large"></i></div>',
					dots: false,
					fade: false,
					infinite: false,
					centerMode: false,
					adaptiveHeight: true,
					pauseOnFocus: true,
					pauseOnHover: true,
					swipe: true,
					draggable: true,
					rtl: n,
					autoplay: false,
					autoplaySpeed: 250,
					speed: 250,
				};
				if (e.hasClass("slick-nav")) {
					t["prevArrow"] =
						'<div class="gl-prev"><i class="far fa-angle-left large"></i></div>';
					t["nextArrow"] =
						'<div class="gl-next"><i class="far fa-angle-right large"></i></div>';
				}
				var i = s.extend({}, t, e.data("slick"));
				e.slick(i);
			});
		},
		click_target_blank: function () {
			var e = s(".post-type-archive .archive-layout");
			e.find(".civi-link-item").prop("target", "_blank");
		},
	};
	GLF.onReady = {
		init: function () {
			GLF.element.init();
		},
	};
	GLF.onLoad = { init: function () {} };
	GLF.onResize = { init: function () {} };
	s(document).ready(GLF.onReady.init);
	s(window).resize(GLF.onResize.init);
	s(window).load(GLF.onLoad.init);
})(jQuery);
